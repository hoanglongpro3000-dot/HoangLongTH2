@model HoangLongTH.Models.Customer

@{
    ViewBag.Title = "Tạo khách hàng";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<style>
    .customer-create-page {
        background: #f5f7fb;
        min-height: calc(100vh - 120px);
        padding-top: 20px;
        padding-bottom: 40px;
    }

    .customer-card,
    .customer-sidebar {
        border-radius: 14px;
    }

        .customer-card .card-header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #fff;
            border-bottom: 3px solid #ffd700;
        }

    .badge-soft-info {
        display: inline-block;
        padding: 6px 14px;
        border-radius: 999px;
        background: rgba(79, 172, 254, 0.15);
        color: #1e88e5;
        font-size: 13px;
        font-weight: 600;
    }

    .form-label-strong {
        font-weight: 600;
        margin-bottom: 5px;
    }
</style>

<div class="customer-create-page">
    <div class="container-fluid">

        <!-- HEADER -->
        <div class="row mb-3">
            <div class="col-md-8">
                <small class="text-muted">
                    Trang quản trị / Khách hàng / <strong>Tạo mới</strong>
                </small>
                <h3 class="mt-2 mb-1 text-primary">
                    <i class="fas fa-user-plus"></i> Thêm Khách Hàng Mới
                </h3>
                <p class="text-muted mb-0">
                    Nhập thông tin khách hàng để quản lý đơn hàng, liên hệ và lịch sử mua sắm.
                </p>
            </div>
            <div class="col-md-4 text-md-right mt-3 mt-md-0">
                <span class="badge-soft-info">
                    <i class="fas fa-users"></i> Quản lý danh sách khách hàng
                </span>
            </div>
        </div>

        <div class="row">
            <!-- FORM CHÍNH -->
            <div class="col-lg-8 mb-4">
                @using (Html.BeginForm())
                {
                    @Html.AntiForgeryToken()

                    <div class="card shadow-sm customer-card">
                        <div class="card-header">
                            <strong>Thông Tin Khách Hàng</strong>
                        </div>

                        <div class="card-body">
                            @Html.ValidationSummary(true, "", new { @class = "text-danger mb-3" })

                            <!-- Tên khách hàng -->
                            <div class="form-group mb-3">
                                <label class="form-label-strong">
                                    Họ tên khách hàng <span class="text-danger">*</span>
                                </label>
                                @Html.TextBoxFor(m => m.CustomerName,
                                    new
                                    {
                                        @class = "form-control",
                                        placeholder = "Nhập họ tên khách hàng..."
                                    })
                                @Html.ValidationMessageFor(m => m.CustomerName, "", new { @class = "text-danger" })
                            </div>

                            <!-- Số điện thoại -->
                            <div class="form-group mb-3">
                                <label class="form-label-strong">
                                    Số điện thoại <span class="text-danger">*</span>
                                </label>
                                @Html.TextBoxFor(m => m.CustomerPhone,
                                    new
                                    {
                                        @class = "form-control",
                                        placeholder = "Nhập số điện thoại (ví dụ: 0903 123 456)"
                                    })
                                @Html.ValidationMessageFor(m => m.CustomerPhone, "", new { @class = "text-danger" })
                            </div>

                            <!-- Email -->
                            <div class="form-group mb-3">
                                <label class="form-label-strong">
                                    Email
                                </label>
                                @Html.TextBoxFor(m => m.CustomerEmail,
                                    new
                                    {
                                        @class = "form-control",
                                        type = "email",
                                        placeholder = "Nhập email (nếu có)"
                                    })
                                @Html.ValidationMessageFor(m => m.CustomerEmail, "", new { @class = "text-danger" })
                            </div>

                            <!-- Địa chỉ -->
                            <div class="form-group mb-3">
                                <label class="form-label-strong">
                                    Địa chỉ
                                </label>
                                @Html.TextAreaFor(m => m.CustomerAddress,
                                    new
                                    {
                                        @class = "form-control",
                                        rows = 3,
                                        placeholder = "Nhập địa chỉ giao hàng / liên hệ..."
                                    })
                                @Html.ValidationMessageFor(m => m.CustomerAddress, "", new { @class = "text-danger" })
                            </div>

                            <!-- Username liên kết -->
                            <div class="form-group mb-2">
                                <label class="form-label-strong">
                                    Tài khoản đăng nhập (Username)
                                </label>
                                @Html.DropDownList("Username", null, "-- Chọn tài khoản liên kết --",
                                    new { @class = "form-control" })
                                @Html.ValidationMessageFor(m => m.Username, "", new { @class = "text-danger" })
                                <small class="text-muted">
                                    Chọn username tương ứng nếu khách hàng có tài khoản đăng nhập trên hệ thống.
                                </small>
                            </div>
                        </div>

                        <div class="card-footer text-right">
                            <button type="submit" class="btn btn-success">
                                <i class="fas fa-save"></i> Lưu khách hàng
                            </button>
                            <a href="@Url.Action("Index")" class="btn btn-secondary ml-2">
                                <i class="fas fa-arrow-left"></i> Quay lại
                            </a>
                        </div>
                    </div>
                }
            </div>

            <!-- SIDEBAR: GỢI Ý / LƯU Ý -->
            <div class="col-lg-4">
                <div class="card shadow-sm customer-sidebar">
                    <div class="card-header bg-white border-0">
                        <strong><i class="fas fa-lightbulb"></i> Gợi ý nhập thông tin</strong>
                    </div>
                    <div class="card-body pt-0">
                        <ul class="list-unstyled mb-3">
                            <li>• Số điện thoại nên là số đang sử dụng để tiện xác nhận đơn hàng.</li>
                            <li>• Email dùng để gửi hóa đơn, mã giảm giá, thông báo khuyến mãi.</li>
                            <li>• Địa chỉ càng chi tiết thì giao hàng càng nhanh và chính xác.</li>
                        </ul>
                        <p class="text-muted mb-0">
                            Bạn có thể chỉnh sửa lại thông tin khách hàng sau khi tạo
                            tại trang <strong>Danh sách khách hàng</strong>.
                        </p>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
