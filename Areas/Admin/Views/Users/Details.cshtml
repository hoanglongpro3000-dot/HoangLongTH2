@model HoangLongTH.Models.User

@{
    ViewBag.Title = "Chi tiết người dùng";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<style>
    .details-page {
        background: #f5f7fb;
        min-height: calc(100vh - 120px);
        padding: 25px 0 40px;
    }

    .details-card {
        border-radius: 16px;
        box-shadow: 0 8px 25px rgba(0,0,0,.12);
        border: none;
        overflow: hidden;
    }

    .details-card-header {
        background: linear-gradient(135deg, #4f46e5, #7c3aed, #db2777);
        color: #fff;
        padding: 20px 24px;
        font-size: 20px;
        font-weight: 700;
        letter-spacing: .3px;
    }

    .info-label {
        font-weight: 700;
        color: #111827;
        font-size: 15px;
    }

    .info-value {
        color: #4b5563;
        font-size: 15px;
        font-weight: 500;
    }

    .icon-circle {
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, #4f46e5, #7c3aed);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 22px;
        box-shadow: 0 6px 18px rgba(79, 70, 229, .35);
        margin-bottom: 15px;
    }

    .btn-edit {
        background: linear-gradient(135deg, #3b82f6, #2563eb);
        border: none;
        color: white;
        padding: 10px 22px;
        font-weight: 600;
        border-radius: 10px;
        transition: .25s;
    }

        .btn-edit:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(59,130,246,.35);
        }

    .btn-back {
        border-radius: 10px;
        padding: 10px 18px;
        font-weight: 500;
    }
</style>

<div class="details-page">
    <div class="container-fluid">

        <div class="mb-4">
            <h3 class="text-primary" style="font-weight:800;">
                <i class="fas fa-user-circle"></i> Chi Tiết Người Dùng
            </h3>
            <p class="text-muted">Xem thông tin tài khoản và vai trò của người dùng trong hệ thống.</p>
        </div>

        <div class="card details-card">
            <div class="details-card-header">
                <i class="fas fa-user"></i> Thông Tin Người Dùng
            </div>

            <div class="card-body p-4">

                <!-- AVATAR -->
                <div class="text-center mb-4">
                    <div class="icon-circle">
                        <i class="fas fa-user"></i>
                    </div>
                    <h5 class="fw-bold">@Model.Username</h5>
                </div>

                <!-- PASSWORD -->
                <div class="row mb-3">
                    <div class="col-sm-3 info-label">Mật khẩu (đã mã hóa):</div>
                    <div class="col-sm-9 info-value">●●●●●●●● (không hiển thị vì bảo mật)</div>
                </div>

                <!-- ROLE -->
                <div class="row mb-3">
                    <div class="col-sm-3 info-label">Vai trò:</div>
                    <div class="col-sm-9 info-value">

                        @if (Model.UserRole != null && Model.UserRole.Trim().ToUpper() == "A")
                        {
                            <span class="badge bg-danger px-3 py-2">
                                <i class="fas fa-user-shield"></i> Admin
                            </span>
                        }
                        else if (Model.UserRole != null && Model.UserRole.Trim().ToUpper() == "C")
                        {
                            <span class="badge bg-primary px-3 py-2">
                                <i class="fas fa-user"></i> Khách hàng
                            </span>
                        }
                        else
                        {
                            <span class="badge bg-secondary px-3 py-2">
                                <i class="fas fa-question-circle"></i> Không rõ
                            </span>
                        }

                    </div>
                </div>

            </div>

            <div class="card-footer text-right bg-light">

                <!-- Chỉ hiển thị nút sửa nếu là admin -->
                @if (Model.UserRole != null && Model.UserRole.Trim().ToUpper() == "A")
                {
                    <a href="@Url.Action("Edit", new { id = Model.Username })"
                       class="btn btn-edit">
                        <i class="fas fa-edit"></i> Chỉnh sửa
                    </a>
                }

                <a href="@Url.Action("Index")" class="btn btn-secondary btn-back ml-2">
                    <i class="fas fa-arrow-left"></i> Quay lại
                </a>
            </div>
        </div>

    </div>
</div>
